{"version":3,"sources":["../../../../src/basic/Tabs/ScrollableTabBar.js"],"names":["React","require","ReactNative","View","Animated","StyleSheet","ScrollView","Platform","Dimensions","ViewPropTypes","Button","WINDOW_WIDTH","get","width","ScrollableTabBar","createClass","propTypes","goToPage","PropTypes","func","activeTab","number","tabs","array","backgroundColor","string","activeTextColor","inactiveTextColor","scrollOffset","style","tabStyle","tabsContainerStyle","renderTab","underlineStyle","onScroll","contextTypes","theme","object","getDefaultProps","getInitialState","_tabsMeasurements","_leftTabUnderline","Value","_widthTabUnderline","_containerWidth","componentDidMount","props","scrollValue","addListener","updateView","offset","position","Math","floor","value","pageOffset","tabCount","length","lastTabPosition","necessarilyMeasurementsCompleted","updateTabPanel","updateTabUnderline","isLastTab","_tabContainerMeasurements","_containerMeasurements","containerWidth","tabWidth","nextTabMeasurements","nextTabWidth","tabOffset","left","absolutePageOffset","newScrollX","OS","_scrollView","scrollTo","x","y","animated","rightBoundScroll","lineLeft","lineRight","right","nextTabLeft","nextTabRight","newLineLeft","newLineRight","state","setValue","name","page","isTabActive","onPressHandler","onLayoutHandler","activeTabStyle","textStyle","activeTextStyle","tabHeaderStyle","headerContent","children","undefined","textColor","fontWeight","random","measureTab","event","nativeEvent","layout","height","_value","render","variables","context","tabUnderlineStyle","topTabBarActiveBorderColor","bottom","dynamicTabUnderline","styles","container","onContainerLayout","scrollView","onTabContainerLayout","map","bind","componentWillReceiveProps","nextProps","JSON","stringify","setState","e","StyledTab","mapPropsToStyleNames","ScrollableTab","create","tab","alignItems","justifyContent","paddingLeft","paddingRight","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderColor","flexDirection"],"mappings":"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","file":"ScrollableTabBar.js","sourcesContent":["const React = require('react');\r\nconst ReactNative = require('react-native');\r\nimport { connectStyle, StyleProvider } from 'native-base-shoutem-theme';\r\nimport variable from './../../theme/variables/platform';\r\nimport { TabHeading, Text, TabContainer } from './../../index';\r\nimport _ from 'lodash';\r\nconst {\r\n  View,\r\n  Animated,\r\n  StyleSheet,\r\n  ScrollView,\r\n  Platform,\r\n  Dimensions,\r\n  ViewPropTypes\r\n} = ReactNative;\r\nconst Button = require('./Button');\r\n\r\nconst WINDOW_WIDTH = Dimensions.get('window').width;\r\n\r\nconst ScrollableTabBar = React.createClass({\r\n  propTypes: {\r\n    goToPage: React.PropTypes.func,\r\n    activeTab: React.PropTypes.number,\r\n    tabs: React.PropTypes.array,\r\n    backgroundColor: React.PropTypes.string,\r\n    activeTextColor: React.PropTypes.string,\r\n    inactiveTextColor: React.PropTypes.string,\r\n    scrollOffset: React.PropTypes.number,\r\n    style: ViewPropTypes.style,\r\n    tabStyle: ViewPropTypes.style,\r\n    tabsContainerStyle: ViewPropTypes.style,\r\n    renderTab: React.PropTypes.func,\r\n    underlineStyle: ViewPropTypes.style,\r\n    onScroll:React.PropTypes.func,\r\n  },\r\n  contextTypes: {\r\n    theme: React.PropTypes.object,\r\n  },\r\n\r\n  getDefaultProps() {\r\n    return {\r\n      scrollOffset: 52,\r\n      activeTextColor: 'navy',\r\n      inactiveTextColor: 'black',\r\n      backgroundColor: null,\r\n      style: {},\r\n      tabStyle: {},\r\n      tabsContainerStyle: {},\r\n      underlineStyle: {},\r\n    };\r\n  },\r\n\r\n  getInitialState() {\r\n    this._tabsMeasurements = [];\r\n    return {\r\n      _leftTabUnderline: new Animated.Value(0),\r\n      _widthTabUnderline: new Animated.Value(0),\r\n      _containerWidth: null,\r\n    };\r\n  },\r\n\r\n  componentDidMount() {\r\n    this.props.scrollValue.addListener(this.updateView);\r\n  },\r\n\r\n  updateView(offset) {\r\n    const position = Math.floor(offset.value);\r\n    const pageOffset = offset.value % 1;\r\n    const tabCount = this.props.tabs.length;\r\n    const lastTabPosition = tabCount - 1;\r\n\r\n    if (tabCount === 0 || offset.value < 0 || offset.value > lastTabPosition) {\r\n      return;\r\n    }\r\n\r\n    if (this.necessarilyMeasurementsCompleted(position, position === lastTabPosition)) {\r\n      this.updateTabPanel(position, pageOffset);\r\n      this.updateTabUnderline(position, pageOffset, tabCount);\r\n    }\r\n  },\r\n\r\n  necessarilyMeasurementsCompleted(position, isLastTab) {\r\n    return this._tabsMeasurements[position] &&\r\n      (isLastTab || this._tabsMeasurements[position + 1]) &&\r\n      this._tabContainerMeasurements &&\r\n      this._containerMeasurements;\r\n  },\r\n\r\n  updateTabPanel(position, pageOffset) {\r\n    const containerWidth = this._containerMeasurements.width;\r\n    const tabWidth = this._tabsMeasurements[position].width;\r\n    const nextTabMeasurements = this._tabsMeasurements[position + 1];\r\n    const nextTabWidth = nextTabMeasurements && nextTabMeasurements.width || 0;\r\n    const tabOffset = this._tabsMeasurements[position].left;\r\n    const absolutePageOffset = pageOffset * tabWidth;\r\n    let newScrollX = tabOffset + absolutePageOffset;\r\n\r\n    // center tab and smooth tab change (for when tabWidth changes a lot between two tabs)\r\n    newScrollX -= (containerWidth - (1 - pageOffset) * tabWidth - pageOffset * nextTabWidth) / 2;\r\n    newScrollX = newScrollX >= 0 ? newScrollX : 0;\r\n\r\n    if (Platform.OS === 'android') {\r\n      this._scrollView.scrollTo({x: newScrollX, y: 0, animated: false, });\r\n    } else {\r\n      const rightBoundScroll = this._tabContainerMeasurements.width - (this._containerMeasurements.width);\r\n      newScrollX = newScrollX > rightBoundScroll ? rightBoundScroll : newScrollX;\r\n      this._scrollView.scrollTo({x: newScrollX, y: 0, animated: false, });\r\n    }\r\n\r\n  },\r\n\r\n  updateTabUnderline(position, pageOffset, tabCount) {\r\n    const lineLeft = this._tabsMeasurements[position].left;\r\n    const lineRight = this._tabsMeasurements[position].right;\r\n\r\n    if (position < tabCount - 1) {\r\n      const nextTabLeft = this._tabsMeasurements[position + 1].left;\r\n      const nextTabRight = this._tabsMeasurements[position + 1].right;\r\n\r\n      const newLineLeft = (pageOffset * nextTabLeft + (1 - pageOffset) * lineLeft);\r\n      const newLineRight = (pageOffset * nextTabRight + (1 - pageOffset) * lineRight);\r\n\r\n      this.state._leftTabUnderline.setValue(newLineLeft);\r\n      this.state._widthTabUnderline.setValue(newLineRight - newLineLeft);\r\n    } else {\r\n      this.state._leftTabUnderline.setValue(lineLeft);\r\n      this.state._widthTabUnderline.setValue(lineRight - lineLeft);\r\n    }\r\n  },\r\n\r\n  renderTab(name, page, isTabActive, onPressHandler, onLayoutHandler, tabStyle, activeTabStyle, textStyle, activeTextStyle, tabHeaderStyle) {\r\n    const headerContent = (typeof name!=='string') ? name.props.children : undefined;\r\n    const { activeTextColor, inactiveTextColor } = this.props;\r\n    const textColor = isTabActive ? activeTextColor : inactiveTextColor;\r\n    const fontWeight = isTabActive ? 'bold' : 'normal';\r\n\r\n    if (typeof name==='string') {\r\n      return <Button\r\n        key={`${name}_${page}`}\r\n        onPress={() => onPressHandler(page)}\r\n        onLayout={onLayoutHandler}\r\n      >\r\n        <TabHeading scrollable style={(isTabActive) ? activeTabStyle : tabStyle} active={isTabActive}>\r\n          <Text style={(isTabActive) ? activeTextStyle : textStyle}>\r\n            {name}\r\n          </Text>\r\n        </TabHeading>\r\n      </Button>;\r\n    }\r\n    else {\r\n      return <Button\r\n        key={_.random(1.2, 5.2)}\r\n        onPress={() => onPressHandler(page)}\r\n        >\r\n        <TabHeading scrollable style={tabHeaderStyle} active={isTabActive}>\r\n          {headerContent}\r\n        </TabHeading>\r\n      </Button>\r\n    }\r\n  },\r\n\r\n  measureTab(page, event) {\r\n    const { x, width, height, } = event.nativeEvent.layout;\r\n    this._tabsMeasurements[page] = {left: x, right: x + width, width, height, };\r\n    this.updateView({value: this.props.scrollValue._value, });\r\n  },\r\n\r\n  render() {\r\n    const variables = (this.context.theme) ? this.context.theme['@@shoutem.theme/themeStyle'].variables : variable;\r\n    const tabUnderlineStyle = {\r\n      position: 'absolute',\r\n      height: 4,\r\n      backgroundColor: variables.topTabBarActiveBorderColor,\r\n      bottom: 0\r\n    };\r\n\r\n    const dynamicTabUnderline = {\r\n      left: this.state._leftTabUnderline,\r\n      width: this.state._widthTabUnderline,\r\n    };\r\n\r\n    return <View\r\n      style={[styles.container, {backgroundColor: this.props.backgroundColor, }, this.props.style, ]}\r\n      onLayout={this.onContainerLayout}\r\n    >\r\n      <ScrollView\r\n        automaticallyAdjustContentInsets={false}\r\n        ref={(scrollView) => { this._scrollView = scrollView; }}\r\n        horizontal={true}\r\n        showsHorizontalScrollIndicator={false}\r\n        showsVerticalScrollIndicator={false}\r\n        directionalLockEnabled={true}\r\n        onScroll={this.props.onScroll}\r\n        bounces={false}\r\n        scrollsToTop={false}\r\n      >\r\n        <View\r\n          style={[styles.tabs, {width: this.state._containerWidth, }, this.props.tabsContainerStyle, ]}\r\n          ref={'tabContainer'}\r\n          onLayout={this.onTabContainerLayout}\r\n        >\r\n          {this.props.tabs.map((name, page) => {\r\n            const isTabActive = this.props.activeTab === page;\r\n            const renderTab = this.props.renderTab || this.renderTab;\r\n            return renderTab(name, page, isTabActive, this.props.goToPage, this.measureTab.bind(this, page), this.props.tabStyle[page], this.props.activeTabStyle[page], this.props.textStyle[page], this.props.activeTextStyle[page], this.props.tabHeaderStyle[page]);\r\n          })}\r\n          <Animated.View style={[tabUnderlineStyle, dynamicTabUnderline, this.props.underlineStyle, ]} />\r\n        </View>\r\n      </ScrollView>\r\n    </View>;\r\n  },\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    // If the tabs change, force the width of the tabs container to be recalculated\r\n    if (JSON.stringify(this.props.tabs) !== JSON.stringify(nextProps.tabs) && this.state._containerWidth) {\r\n      this.setState({ _containerWidth: null, });\r\n    }\r\n  },\r\n\r\n  onTabContainerLayout(e) {\r\n    this._tabContainerMeasurements = e.nativeEvent.layout;\r\n    let width = this._tabContainerMeasurements.width;\r\n    if (width < WINDOW_WIDTH) {\r\n      width = WINDOW_WIDTH;\r\n    }\r\n    this.setState({ _containerWidth: width, });\r\n    this.updateView({value: this.props.scrollValue._value, });\r\n  },\r\n\r\n  onContainerLayout(e) {\r\n    this._containerMeasurements = e.nativeEvent.layout;\r\n    this.updateView({value: this.props.scrollValue._value, });\r\n  },\r\n});\r\n\r\n// module.exports = ScrollableTabBar;\r\nconst StyledTab = connectStyle('NativeBase.ScrollableTab', {}, mapPropsToStyleNames)(ScrollableTabBar);\r\nexport {\r\n  StyledTab as ScrollableTab,\r\n};\r\nconst styles = StyleSheet.create({\r\n  tab: {\r\n    height: 49,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingLeft: 20,\r\n    paddingRight: 20,\r\n  },\r\n  container: {\r\n    height: 50,\r\n    borderWidth: 1,\r\n    borderTopWidth: 0,\r\n    borderLeftWidth: 0,\r\n    borderRightWidth: 0,\r\n    borderColor: '#ccc',\r\n  },\r\n  tabs: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-around',\r\n  },\r\n});\r\n"]}