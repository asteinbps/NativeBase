{"version":3,"sources":["../../../src/basic/Actionsheet.js"],"names":["ActionSheetContainer","props","state","modalVisible","items","config","callback","OS","options","filtered","map","item","text","showActionSheetWithOptions","setState","title","message","destructiveButtonIndex","cancelButtonIndex","autoHide","duration","console","warn","backgroundColor","flex","justifyContent","height","length","padding","elevation","color","marginHorizontal","marginTop","data","i","id","borderColor","icon","actionsheetInstance","_root","showActionSheet","propTypes","style","PropTypes","object","StyledActionSheetContainer"],"mappings":";;;AAGA,4B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mE;;;AAGMA,oB;AACJ,8BAAYC,KAAZ,CAAmB;AACXA,KADW;AAEjB,MAAKC,KAAL,CAAa;AACXC,aAAc,KADH;AAEXC,MAAO,EAFI,CAAb,CAFiB;;AAMlB,C;;;;;AAKeC,M,CAAQC,Q,CAAU;AAChC,GAAI,sBAASC,EAAT,GAAc,KAAlB,CAAyB;AACvB,GAAI,MAAOF,QAAOG,OAAP,CAAgB,CAAhB,CAAP,EAA2B,QAA/B,CAAyC;AACvC,GAAIA,SAAUH,OAAOG,OAArB;AACA,GAAIC,UAAWD,QAAQE,GAAR,CAAY,SAACC,IAAD,CAAU;AACnC,MAAOA,MAAKC,IAAZ;AACD,CAFc,CAAf;AAGAP,OAAOG,OAAP,CAAiBC,QAAjB;AACA,4BAAeI,0BAAf,CAA0CR,MAA1C,CAAkDC,QAAlD;AACD,CAPD;AAQK;AACH,4BAAeO,0BAAf,CAA0CR,MAA1C,CAAkDC,QAAlD;AACD;AACF,CAZD;AAaK;AACH,KAAKQ,QAAL,CAAc;AACZV,MAAOC,OAAOG,OADF;AAEZO,MAAOV,OAAOU,KAFF;AAGZC,QAASX,OAAOW,OAHJ;AAIZC,uBAAwBZ,OAAOY,sBAJnB;AAKZC,kBAAmBb,OAAOa,iBALd;AAMZf,aAAc,IANF;AAOZG,SAAUA,QAPE,CAAd;;AASD;AACF,C;AACmB;AAClB,GAAI,CAAC,KAAKL,KAAL,CAAWkB,QAAZ,EAAwB,KAAKlB,KAAL,CAAWmB,QAAvC,CAAiD;AAC/CC,QAAQC,IAAR;AACD;AACF,C;AACQ;AACP;AACE;AACE,cAAe,MADjB;AAEE,YAAa,IAFf;AAGE,QAAS,KAAKpB,KAAL,CAAWC,YAHtB;AAIE,eAAgB,gCAAK,QAAKW,QAAL,CAAc,CAACX,aAAc,KAAf,CAAd,CAAL,EAJlB;;AAMC,6DAAkB,cAAe,CAAjC,CAAoC,QAAS,yBAAK,QAAKW,QAAL,CAAc,CAACX,aAAc,KAAf,CAAd,CAAL,EAA7C,CAAwF,MAAO,CAACoB,gBAAiB,iBAAlB,CAAqCC,KAAM,CAA3C,CAA8CC,eAAgB,UAA9D,CAA/F;AACC,6DAAkB,cAAe,CAAjC,CAAoC,MAAO,CAACF,gBAAiB,MAAlB,CAA0BG,OAAQ,KAAKxB,KAAL,CAAWyB,MAAX,CAAkB,EAApD,CAAwDC,QAAS,EAAjE,CAAqEC,UAAW,CAAhF,CAA3C;AACE,0CAAM,MAAO,CAACC,MAAO,SAAR,CAAb,EAAkC,KAAK5B,KAAL,CAAWa,KAA7C,CADF;AAEE,0CAAM,MAAO,CAACgB,iBAAkB,CAAC,EAApB,CAAwBC,UAAW,EAAnC,CAAb,CAAqD,UAAW,KAAK9B,KAAL,CAAWE,KAA3E,CAAkF,UAAW,mBAAC6B,IAAD,CAAOC,CAAP,CAAUC,EAAV;;AAEzF,CAAE,MAAQ,OAAO,QAAKjC,KAAL,CAAWE,KAAX,CAAiB,CAAjB,CAAP,GAA6B,QAA9B;AACR,kDAAU,QAAS,kBAAK,CAAE,OAAKF,KAAL,CAAWI,QAAX,CAAoB6B,EAApB,EAAyB,OAAKrB,QAAL,CAAc,CAACX,aAAc,KAAf,CAAd,EAAqC,CAAxF,CAA0F,MAAO,CAACiC,YAAa,aAAd,CAAjG;AACC,8CAAOH,IAAP,CADD,CADQ;;;AAKT,kDAAU,QAAS,kBAAK,CAAE,OAAK/B,KAAL,CAAWI,QAAX,CAAoB6B,EAApB,EAAyB,OAAKrB,QAAL,CAAc,CAACX,aAAc,KAAf,CAAd,EAAqC,CAAxF,CAA0F,MAAO,CAACiC,YAAa,aAAd,CAAjG,CAA+H,SAA/H;AACE;AACE,0CAAM,KAAMH,KAAKI,IAAjB,EADF,CADF;;AAIE,0CAAM,MAAO,CAACD,YAAa,aAAd,CAAb;AACE,8CAAOH,KAAKrB,IAAZ,CADF,CAJF;;AAOE,gDAPF,CALE;AAaU,CAfhB,EAFF,CADD,CAND,CADF;;;;;;AA+BD,C,oCAlEWP,M,CAAQC,Q,CAAU,CAC5B,KAAKgC,mBAAL,CAAyBC,KAAzB,CAA+BC,eAA/B,CAA+CnC,MAA/C,CAAuDC,QAAvD,EACD,C;;;AAmEHN,qBAAqByC,SAArB;;AAEEC,MAAO,gBAAMC,SAAN,CAAgBC,MAFzB;;;AAKA,GAAMC,4BAA6B,yCAAa,iCAAb,CAAgD,EAAhD,iCAA0E7C,oBAA1E,CAAnC,C;;;AAGgCA,oB,CAA9B6C,0B","file":"Actionsheet.js","sourcesContent":["/* @flow */\r\n\r\n\r\nimport React, { Component } from 'react';\r\nimport { View, Modal, Platform, ActionSheetIOS, TouchableOpacity, ViewPropTypes } from 'react-native';\r\nimport { connectStyle } from 'native-base-shoutem-theme';\r\nimport { Text } from './Text';\r\nimport { Button } from './Button';\r\nimport { ViewNB } from './View';\r\nimport { Icon } from './Icon';\r\nimport { Left } from './Left';\r\nimport { Right } from './Right';\r\nimport { Body } from './Body';\r\nimport { List } from './List';\r\nimport { ListItem } from './ListItem';\r\nimport mapPropsToStyleNames from '../Utils/mapPropsToStyleNames';\r\n\r\n\r\nclass ActionSheetContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modalVisible: false,\r\n      items: [],\r\n    }\r\n  }\r\n  static actionsheetInstance;\r\n  static show(config, callback) {\r\n    this.actionsheetInstance._root.showActionSheet(config, callback);\r\n  }\r\n  showActionSheet(config, callback) {\r\n    if (Platform.OS==='ios') {\r\n      if (typeof config.options [0]=='object') {\r\n        let options = config.options;\r\n        let filtered = options.map((item) => {\r\n          return item.text\r\n        });\r\n        config.options = filtered;\r\n        ActionSheetIOS.showActionSheetWithOptions(config, callback);\r\n      }\r\n      else {\r\n        ActionSheetIOS.showActionSheetWithOptions(config, callback);\r\n      }\r\n    }\r\n    else {\r\n      this.setState({\r\n        items: config.options,\r\n        title: config.title,\r\n        message: config.message,\r\n        destructiveButtonIndex: config.destructiveButtonIndex,\r\n        cancelButtonIndex: config.cancelButtonIndex,\r\n        modalVisible: true,\r\n        callback: callback\r\n      });\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (!this.props.autoHide && this.props.duration) {\r\n      console.warn(`It's not recommended to set autoHide false with duration`);\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <Modal\r\n        animationType={\"fade\"}\r\n        transparent={true}\r\n        visible={this.state.modalVisible}\r\n        onRequestClose={()=> this.setState({modalVisible: false})}\r\n        >\r\n       <TouchableOpacity activeOpacity={1} onPress={()=> this.setState({modalVisible: false})} style={{backgroundColor: 'rgba(0,0,0,0.4)', flex: 1, justifyContent: 'flex-end'}}>\r\n        <TouchableOpacity activeOpacity={1} style={{backgroundColor: '#fff', height: this.state.length*80, padding: 15, elevation: 4}}>\r\n          <Text style={{color: '#757575'}}>{this.state.title}</Text>\r\n          <List style={{marginHorizontal: -15, marginTop: 15}} dataArray={this.state.items} renderRow={(data, i, id) =>\r\n\r\n              { return (typeof this.state.items[0]==='string') ?\r\n               <ListItem onPress={()=> { this.state.callback(id); this.setState({modalVisible: false})}} style={{borderColor: 'transparent'}}>\r\n                <Text>{data}</Text>\r\n              </ListItem>\r\n              :\r\n              <ListItem onPress={()=> { this.state.callback(id); this.setState({modalVisible: false})}} style={{borderColor: 'transparent'}} icon>\r\n                <Left>\r\n                  <Icon name={data.icon} />\r\n                </Left>\r\n                <Body style={{borderColor: 'transparent'}}>\r\n                  <Text>{data.text}</Text>\r\n                </Body>\r\n                <Right />\r\n              </ListItem>}\r\n          } />\r\n      </TouchableOpacity>\r\n      </TouchableOpacity>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nActionSheetContainer.propTypes = {\r\n  ...ViewPropTypes,\r\n  style: React.PropTypes.object,\r\n};\r\n\r\nconst StyledActionSheetContainer = connectStyle('NativeBase.ActionSheetContainer', {}, mapPropsToStyleNames)(ActionSheetContainer);\r\n\r\nexport {\r\n  StyledActionSheetContainer as ActionSheetContainer,\r\n};\r\n"]}