{"version":3,"sources":["../../../../src/backward/Widgets/CardItem.js"],"names":["CardItem1","listItem","flexDirection","thumbnailPresent","gravatarPresent","iconPresent","notePresent","ifShowCase","fullImage","alignSelf","height","right","flex","paddingLeft","backgroundColor","right2","alignItems","justifyContent","right3","thumbnailComponentPresent","Children","forEach","props","children","child","type","displayName","gravatarComponentPresent","imagePresent","iconComponentPresent","buttonComponentPresent","cardBody","note","squareThumbs","square","defaultProps","style","getInitialStyle","newChildren","childrenArray","toArray","filter","Array","isArray","push","margin","OS","map","i","cloneElement","getChildProps","key","getRightStyle","slice","c","_root","prepareRootProps","button","renderChildren","propTypes","PropTypes","object","header","bool","footer","StyledCardItem1"],"mappings":"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","file":"CardItem.js","sourcesContent":["/* @flow */\r\n\r\nimport React from 'react';\r\nimport { TouchableOpacity, View, Platform, Image } from 'react-native';\r\nimport { connectStyle } from 'native-base-shoutem-theme';\r\nimport mapPropsToStyleNames from '../../Utils/mapPropsToStyleNames';\r\nimport NativeBaseComponent from '../Base/NativeBaseComponent';\r\nimport computeProps from '../../Utils/computeProps';\r\n\r\nclass CardItem1 extends NativeBaseComponent {\r\n\r\n    getInitialStyle() {\r\n        return {\r\n            listItem: {\r\n                flexDirection: (this.thumbnailPresent() || this.gravatarPresent() || this.iconPresent() || (this.notePresent() && this.ifShowCase())) ? 'row' : 'column',\r\n            },\r\n            fullImage: {\r\n                alignSelf: 'stretch',\r\n                height: this.ifShowCase() ? 120 : 300\r\n            },\r\n        };\r\n    }\r\n  getRightStyle() {\r\n    return {\r\n      right: {\r\n        flex: 1,\r\n        paddingLeft: 10,\r\n        backgroundColor: 'transparent',\r\n      },\r\n      right2: {\r\n        flex: 1,\r\n        flexDirection: 'row',\r\n        paddingLeft: 10,\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n        backgroundColor: 'transparent',\r\n      },\r\n      right3: {\r\n        flex: 1,\r\n        flexDirection: 'column',\r\n        paddingLeft: 10,\r\n        justifyContent: 'flex-start',\r\n        backgroundColor: 'transparent',\r\n      },\r\n    };\r\n  }\r\n\r\n  thumbnailPresent() {\r\n    let thumbnailComponentPresent = false;\r\n    React.Children.forEach(this.props.children, (child) => {\r\n      if (child && child.type.displayName === 'Styled(Thumbnail)') {\r\n        thumbnailComponentPresent = true;\r\n      }\r\n    });\r\n    return thumbnailComponentPresent;\r\n  }\r\n\r\n  gravatarPresent() {\r\n    let gravatarComponentPresent = false;\r\n    React.Children.forEach(this.props.children, (child) => {\r\n      if (child.type.displayName === 'Styled(Gravatar)') { gravatarComponentPresent = true; }\r\n    });\r\n\r\n    return gravatarComponentPresent;\r\n  }\r\n\r\n  imagePresent() {\r\n    let imagePresent = false;\r\n    React.Children.forEach(this.props.children, (child) => {\r\n      if (child && child.type === Image) {\r\n        imagePresent = true;\r\n      }\r\n    });\r\n\r\n    return imagePresent;\r\n  }\r\n\r\n  iconPresent() {\r\n    let iconComponentPresent = false;\r\n    React.Children.forEach(this.props.children, (child) => {\r\n      if (child && child.type.displayName === 'Styled(Icon)') {\r\n        iconComponentPresent = true;\r\n      }\r\n    });\r\n\r\n    return iconComponentPresent;\r\n  }\r\n\r\n  buttonPresent() {\r\n    let buttonComponentPresent = false;\r\n    React.Children.forEach(this.props.children, (child) => {\r\n      if (child && child.type.displayName === 'Styled(Button)') {\r\n        buttonComponentPresent = true;\r\n      }\r\n    });\r\n\r\n    return buttonComponentPresent;\r\n  }\r\n\r\n  ifShowCase() {\r\n    return !!this.props.cardBody;\r\n  }\r\n\r\n  notePresent() {\r\n    let notePresent = false;\r\n\r\n    React.Children.forEach(this.props.children, (child) => {\r\n      if (child && (child.type.displayName === 'Styled(Text)') && child.props.note) {\r\n        notePresent = true;\r\n      }\r\n    });\r\n\r\n    return notePresent;\r\n  }\r\n\r\n  squareThumbs() {\r\n    let squareThumbs = false;\r\n    if (this.thumbnailPresent() || this.gravatarPresent()) {\r\n      React.Children.forEach(this.props.children, (child) => {\r\n        if (child && child.props.square) {\r\n          squareThumbs = true;\r\n        }\r\n      });\r\n    }\r\n\r\n    return squareThumbs;\r\n  }\r\n\r\n  getChildProps(child) {\r\n    let defaultProps = {};\r\n      if(child.type === Image)\r\n      defaultProps = {\r\n        style: this.getInitialStyle().fullImage\r\n      };\r\n    return computeProps(child.props, defaultProps);\r\n  }\r\n\r\n\r\n  renderChildren() {\r\n    let newChildren = [];\r\n    let childrenArray = React.Children.toArray(this.props.children);\r\n    childrenArray = childrenArray.filter(child => !!child);\r\n    if ((!this.thumbnailPresent()) && !this.iconPresent()) {\r\n      if (this.imagePresent() && !Array.isArray(this.props.children)) {\r\n        newChildren.push(<View key=\"img\" style={{ flex: 1, margin: (Platform.OS === 'ios') ? -10 : -12 }}>\r\n          {childrenArray.map((child, i) =>\r\n                React.cloneElement(child, { ...this.getChildProps(child), key: i })\r\n            )}\r\n        </View>\r\n          );\r\n      } else {\r\n        newChildren.push(\r\n              childrenArray.map((child, i) =>\r\n                  React.cloneElement(child, { ...this.getChildProps(child), key: i })\r\n              )\r\n            );\r\n      }\r\n    } else {\r\n      newChildren = [];\r\n      if (!Array.isArray(this.props.children)) {\r\n        newChildren.push(\r\n          <View key=\"cardItem1\" style={{ justifyContent: 'flex-start' }}>\r\n            {React.cloneElement(childrenArray)}\r\n          </View>\r\n                );\r\n      } else {\r\n        newChildren.push(\r\n                    React.cloneElement(childrenArray[0], this.getChildProps(childrenArray[0])));\r\n        newChildren.push(\r\n          <View key=\"cardItem1\" style={this.notePresent() ? this.getRightStyle().right : this.squareThumbs() ? this.getRightStyle().right3 : this.getRightStyle().right2}>\r\n            {childrenArray.slice(1).map((child, i) =>\r\n                            React.cloneElement(child, { key: i })\r\n                        )}\r\n          </View>\r\n                );\r\n      }\r\n    }\r\n\r\n    return newChildren;\r\n  }\r\n  prepareRootProps() {\r\n    let defaultProps = {};\r\n\r\n    defaultProps = {\r\n      style: this.getInitialStyle().listItem\r\n    };\r\n\r\n    return computeProps(this.props, defaultProps);\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <TouchableOpacity\r\n        ref={(c) => { this._root = c; }} {...this.prepareRootProps()}\r\n        activeOpacity={(this.props.button) ? 0.2 : 1}\r\n      >\r\n        {this.renderChildren()}\r\n      </TouchableOpacity>\r\n    );\r\n  }\r\n}\r\n\r\nCardItem1.propTypes = {\r\n  ...TouchableOpacity.propTypes,\r\n  style: React.PropTypes.object,\r\n  header: React.PropTypes.bool,\r\n  cardBody: React.PropTypes.bool,\r\n  footer: React.PropTypes.bool,\r\n  button: React.PropTypes.bool,\r\n};\r\n\r\nconst StyledCardItem1 = connectStyle('NativeBase.CardItem1', {}, mapPropsToStyleNames)(CardItem1);\r\n\r\nexport {\r\n  StyledCardItem1 as CardItem1,\r\n};\r\n"]}