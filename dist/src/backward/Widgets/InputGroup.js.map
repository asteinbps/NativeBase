{"version":3,"sources":["../../../../src/backward/Widgets/InputGroup.js"],"names":["InputGroup","newChildren","childrenArray","Children","toArray","props","children","iconElement","remove","item","type","displayName","buttonElement","inp","find","inputProps","clonedInp","cloneElement","key","toolbar","OS","undefined","editable","disabled","Array","isArray","iconRight","length","push","_root","c","renderChildren","propTypes","mapPropsToStyleNames","styleNames","keys","values","forEach","index","border","borderType","StyledInputGroup"],"mappings":"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","file":"InputGroup.js","sourcesContent":["/* @flow */\r\n\r\nimport React from 'react';\r\nimport { View, Platform } from 'react-native';\r\nimport { connectStyle } from 'native-base-shoutem-theme';\r\nimport _ from 'lodash';\r\nimport NativeBaseComponent from '../Base/NativeBaseComponent';\r\n\r\nclass InputGroup extends NativeBaseComponent {\r\n\r\n  propTypes: {\r\n        borderType : React.PropTypes.string,\r\n        toolbar : React.PropTypes.bool,\r\n        atoolbar : React.PropTypes.bool,\r\n        iconRight : React.PropTypes.bool,\r\n        success : React.PropTypes.bool,\r\n        disabled : React.PropTypes.bool,\r\n        error : React.PropTypes.bool,\r\n        style : React.PropTypes.object\r\n    }\r\n\r\n\r\n  renderChildren() {\r\n    const newChildren = [];\r\n    const childrenArray = React.Children.toArray(this.props.children);\r\n\r\n    let iconElement = [];\r\n    iconElement = _.remove(childrenArray, (item) => {\r\n      if (item.type.displayName === 'Styled(Icon)') {\r\n        return true;\r\n      }\r\n    });\r\n\r\n    let buttonElement = [];\r\n\r\n    buttonElement = _.remove(childrenArray, (item) => {\r\n      if (item.type.displayName === 'Styled(Button)') {\r\n        return true;\r\n      }\r\n    });\r\n\r\n    const inp = _.find(childrenArray, (item) => {\r\n      if (item && (item.type.displayName === 'Styled(Input)' || item.type.displayName === 'Styled(Picker)')) {\r\n        return true;\r\n      }\r\n    });\r\n\r\n    if (inp) {\r\n      let inputProps = {};\r\n      inputProps = inp.props;\r\n      var clonedInp = React.cloneElement(\r\n         inp,\r\n        {\r\n          ...this.inputProps,\r\n          key: 'inp',\r\n          toolbar: (this.props.toolbar && Platform.OS === 'ios') ? true : undefined,\r\n          editable: this.props.disabled ? false : undefined,\r\n        }\r\n       );\r\n    }\r\n\r\n    if (Array.isArray(this.props.children)) {\r\n      if (this.props.iconRight && iconElement.length > 0) {\r\n        if (clonedInp) {\r\n          newChildren.push(clonedInp);\r\n        }\r\n        newChildren.push(React.cloneElement(iconElement[0]));\r\n      } else if (buttonElement.length > 0) {\r\n        if (iconElement.length > 0) {\r\n          newChildren.push(React.cloneElement(\r\n            iconElement[0],\r\n            {\r\n              key: 'icon0',\r\n            }\r\n          ));\r\n        }\r\n\r\n        if (clonedInp) {\r\n          newChildren.push(clonedInp);\r\n        }\r\n        newChildren.push(React.cloneElement(\r\n          buttonElement[0],\r\n          {\r\n            key: 'button1',\r\n          }\r\n        ));\r\n      } else if (iconElement.length > 1) {\r\n        newChildren.push(React.cloneElement(\r\n            iconElement[0],\r\n          {\r\n            key: 'icon0',\r\n          }\r\n          ));\r\n        if (clonedInp) {\r\n          newChildren.push(clonedInp);\r\n        }\r\n        newChildren.push(React.cloneElement(\r\n            iconElement[1],\r\n          {\r\n            key: 'icon1',\r\n          }\r\n          ));\r\n      } else {\r\n        if (iconElement.length > 0) {\r\n          newChildren.push(React.cloneElement(iconElement[0]));\r\n        }\r\n        if (clonedInp) {\r\n          newChildren.push(clonedInp);\r\n        }\r\n      }\r\n    } else if (clonedInp) {\r\n      newChildren.push(clonedInp);\r\n    }\r\n\r\n    return newChildren;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <View ref={c => this._root = c} {...this.props} >\r\n        {this.renderChildren()}\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nInputGroup.propTypes = {\r\n  ...View.propTypes,\r\n};\r\n\r\n\r\nmapPropsToStyleNames = (styleNames, props) => {\r\n  const keys = _.keys(props);\r\n  const values = _.values(props);\r\n\r\n  _.forEach(keys, (key, index) => {\r\n    if (values[index]) { styleNames.push(key); }\r\n  });\r\n  const border = (props.borderType ? props.borderType : 'underline');\r\n  styleNames.push(border);\r\n\r\n  return styleNames;\r\n};\r\n\r\n\r\nconst StyledInputGroup = connectStyle('NativeBase.InputGroup', {}, mapPropsToStyleNames)(InputGroup);\r\n\r\nexport {\r\n  StyledInputGroup as InputGroup,\r\n};\r\n"]}